(()=>{"use strict";function t(t){return null===t?"null":t!==Object(t)?typeof t:{}.toString.call(t).slice(8,-1).toLowerCase()}function e(e){return"string"!==t(e)||!e.length}function n(t="",n,r){if(e(t))return!1;const o=t.charCodeAt(0);return n<=o&&o<=r}const r="toHiragana",o="toKatakana",i="hepburn",c={useObsoleteKana:!1,passRomaji:!1,convertLongVowelMark:!0,upcaseKatakana:!1,IMEMode:!1,romanization:i},u=65,a=90,s=12353,f=12438,h=12449,l=12540,y=19968,g=40879,j=12293,b=12540,p=12539,O=[[0,127],[256,257],[274,275],[298,299],[332,333],[362,363]],d=[[32,47],[58,63],[91,96],[123,126],[8216,8217],[8220,8221]];var m=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function w(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!((r=t[n])===(o=e[n])||m(r)&&m(o)))return!1;var r,o;return!0}function v(t,e){void 0===e&&(e=w);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var i=t.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}var E=Object.prototype.hasOwnProperty;function k(t,e,n){for(n of t.keys())if(z(n,e))return n}function z(t,e){var n,r,o;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&z(t[r],e[r]););return-1===r}if(n===Set){if(t.size!==e.size)return!1;for(r of t){if((o=r)&&"object"==typeof o&&!(o=k(e,o)))return!1;if(!e.has(o))return!1}return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t){if((o=r[0])&&"object"==typeof o&&!(o=k(e,o)))return!1;if(!z(r[1],e.get(o)))return!1}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return-1===r}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return-1===r}if(!n||"object"==typeof t){for(n in r=0,t){if(E.call(t,n)&&++r&&!E.call(e,n))return!1;if(!(n in e)||!z(t[n],e[n]))return!1}return Object.keys(e).length===r}}return t!=t&&e!=e}const M=(t={})=>Object.assign({},c,t);function A(t,e,n){const r=e;function o(t,e){const n=t.charAt(0);return i(Object.assign({"":n},r[n]),t.slice(1),e,e+1)}function i(t,e,r,c){if(!e)return n||1===Object.keys(t).length?t[""]?[[r,c,t[""]]]:[]:[[r,c,null]];if(1===Object.keys(t).length)return[[r,c,t[""]]].concat(o(e,c));const u=function(t,e){if(void 0!==t[e])return Object.assign({"":t[""]+e},t[e])}(t,e.charAt(0));return void 0===u?[[r,c,t[""]]].concat(o(e,c)):i(u,e.slice(1),r,c+1)}return o(t,0)}function S(e){return Object.entries(e).reduce(((e,[n,r])=>{const o="string"===t(r);return e[n]=o?{"":r}:S(r),e}),{})}function C(t,e){return e.split("").reduce(((t,e)=>(void 0===t[e]&&(t[e]={}),t[e])),t)}function N(e={}){const n={};return"object"===t(e)&&Object.entries(e).forEach((([t,e])=>{let r=n;t.split("").forEach((t=>{void 0===r[t]&&(r[t]={}),r=r[t]})),r[""]=e})),function(e){return function e(n,r){return void 0===n||"string"===t(n)?r:Object.entries(r).reduce(((t,[r,o])=>(t[r]=e(n[r],o),t)),n)}(JSON.parse(JSON.stringify(e)),n)}}function J(e,n){return n?"function"===t(n)?n(e):N(n)(e):e}const K={a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}},L={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},I={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},R={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},$={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},x={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"},q=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},$,R),B={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},D={wh:"う",kw:"く",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"};function T(){const t=S(K),e=e=>C(t,e);function n(t){return Object.entries(t).reduce(((t,[e,r])=>(t[e]=e?n(r):`っ${r}`,t)),{})}return Object.entries(I).forEach((([t,n])=>{Object.entries(R).forEach((([r,o])=>{e(t+r)[""]=n+o}))})),Object.entries(L).forEach((([t,n])=>{e(t)[""]=n})),Object.entries(D).forEach((([t,n])=>{Object.entries($).forEach((([r,o])=>{e(t+r)[""]=n+o}))})),["n","n'","xn"].forEach((t=>{e(t)[""]="ん"})),t.c=JSON.parse(JSON.stringify(t.k)),Object.entries(x).forEach((([t,n])=>{const r=t.slice(0,t.length-1),o=t.charAt(t.length-1);e(r)[o]=JSON.parse(JSON.stringify(e(n)))})),Object.entries(q).forEach((([t,n])=>{const r=t=>t.charAt(t.length-1),o=t=>t.slice(0,t.length-1),i=e(`x${t}`);var c;i[""]=n,e(`l${o(t)}`)[r(t)]=i,(c=t,[...Object.entries(x),["c","k"]].reduce(((t,[e,n])=>c.startsWith(n)?t.concat(c.replace(n,e)):t),[])).forEach((n=>{["l","x"].forEach((i=>{e(i+o(n))[r(n)]=e(i+t)}))}))})),Object.entries(B).forEach((([t,n])=>{e(t)[""]=n})),[...Object.keys(I),"c","y","w","j"].forEach((e=>{const r=t[e];r[e]=n(r)})),delete t.n.n,Object.freeze(JSON.parse(JSON.stringify(t)))}let V=null;const U=N({wi:"ゐ",we:"ゑ"});function H(t=""){return!e(t)&&n(t,u,a)}function P(t=""){return!e(t)&&t.charCodeAt(0)===b}function W(t=""){return!e(t)&&t.charCodeAt(0)===p}function F(t=""){return!e(t)&&(!!P(t)||n(t,s,f))}function G(t=""){const e=[];return t.split("").forEach((t=>{if(P(t)||W(t))e.push(t);else if(F(t)){const n=t.charCodeAt(0)+(h-s),r=String.fromCharCode(n);e.push(r)}else e.push(t)})),e.join("")}const Q=v(((t,e,n)=>{let r=(null==V&&(V=T()),V);return r=t?function(t){const e=JSON.parse(JSON.stringify(t));return e.n.n={"":"ん"},e.n[" "]={"":"ん"},e}(r):r,r=e?U(r):r,n&&(r=J(r,n)),r}),z);function X(t="",e={},n){let i;return n?i=e:(i=M(e),n=Q(i.IMEMode,i.useObsoleteKana,i.customKanaMapping)),function(t="",e={},n){const{IMEMode:r,useObsoleteKana:o,customKanaMapping:i}=e;return n||(n=Q(r,o,i)),A(t.toLowerCase(),n,!r)}(t,i,n).map((e=>{const[n,c,u]=e;if(null===u)return t.slice(n);const a=i.IMEMode===r,s=i.IMEMode===o||[...t.slice(n,c)].every(H);return a||!s?u:G(u)})).join("")}function Y(r="",o){const i="regexp"===t(o);return!e(r)&&[...r].every((t=>{const r=function(t=""){return!e(t)&&O.some((([e,r])=>n(t,e,r)))}(t);return i?r||o.test(t):r}))}function Z(t=""){return n(t,h,l)}function _(t=""){return!e(t)&&[...t].every(F)}function tt(t=""){return!e(t)&&[...t].every(Z)}function et(t=""){return n(t,y,g)||function(t=""){return!e(t)&&t.charCodeAt(0)===j}(t)}function nt(t=""){return!e(t)&&[...t].every(et)}function rt(t="",e={passKanji:!0}){const n=[...t];let r=!1;return e.passKanji||(r=n.some(nt)),(n.some(_)||n.some(tt))&&n.some(Y)&&!r}const ot=(t,e)=>P(t)&&e<1,it=(t,e)=>P(t)&&e>0,ct=t=>["ヶ","ヵ"].includes(t),ut={a:"あ",i:"い",u:"う",e:"え",o:"う"};function at(t="",e,{isDestinationRomaji:n,convertLongVowelMark:r}={}){let o="";return t.split("").reduce(((i,c,u)=>{if(W(c)||ot(c,u)||ct(c))return i.concat(c);if(r&&o&&it(c,u)){const r=e(o).slice(-1);return Z(t[u-1])&&"o"===r&&n?i.concat("お"):i.concat(ut[r])}if(!P(c)&&Z(c)){const t=c.charCodeAt(0)+(s-h),e=String.fromCharCode(t);return o=e,i.concat(e)}return o="",i.concat(c)}),[]).join("")}let st=null;const ft={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",や:"ya",ゆ:"yu",よ:"yo",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ゔぁ:"va",ゔぃ:"vi",ゔ:"vu",ゔぇ:"ve",ゔぉ:"vo"},ht={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~",ー:"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},lt=["あ","い","う","え","お","や","ゆ","よ"],yt={ゃ:"ya",ゅ:"yu",ょ:"yo"},gt={ぃ:"yi",ぇ:"ye"},jt={ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},bt=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],pt={し:"sh",ち:"ch",じ:"j",ぢ:"j"},Ot={っ:"",ゃ:"ya",ゅ:"yu",ょ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},dt={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};function mt(){return null==st&&(st=function(){const t=S(ft),e=e=>C(t,e),n=(t,n)=>{e(t)[""]=n};return Object.entries(ht).forEach((([t,n])=>{e(t)[""]=n})),[...Object.entries(yt),...Object.entries(jt)].forEach((([t,e])=>{n(t,e)})),bt.forEach((t=>{const r=e(t)[""][0];Object.entries(yt).forEach((([e,o])=>{n(t+e,r+o)})),Object.entries(gt).forEach((([e,o])=>{n(t+e,r+o)}))})),Object.entries(pt).forEach((([t,e])=>{Object.entries(yt).forEach((([r,o])=>{n(t+r,e+o[1])})),n(`${t}ぃ`,`${e}yi`),n(`${t}ぇ`,`${e}e`)})),t["っ"]=wt(t),Object.entries(Ot).forEach((([t,e])=>{n(t,e)})),lt.forEach((t=>{n(`ん${t}`,`n'${e(t)[""]}`)})),Object.freeze(JSON.parse(JSON.stringify(t)))}()),st}function wt(t){return Object.entries(t).reduce(((t,[e,n])=>{if(e)t[e]=wt(n);else{const r=n.charAt(0);t[e]=Object.keys(dt).includes(r)?dt[r]+n:n}return t}),{})}const vt=v(((t,e)=>{let n=function(t){return t===i?mt():{}}(t);return e&&(n=J(n,e)),n}),z);function Et(t="",e={},n){const r=M(e);return n||(n=vt(r.romanization,r.customRomajiMapping)),function(t,e,n){n||(n=vt(e.romanization,e.customRomajiMapping));return A(at(t,Et,Object.assign({},{isDestinationRomaji:!0},e)),n,!e.IMEMode)}(t,r,n).map((e=>{const[n,o,i]=e;return r.upcaseKatakana&&tt(t.slice(n,o))?i.toUpperCase():i})).join("")}function kt(t=""){return!e(t)&&d.some((([e,r])=>n(t,e,r)))}window.toHiragana=t=>{const e=document.getElementById(t);e.value=function(t="",e={}){const n=M(e);return n.passRomaji?at(t,Et,n):rt(t,{passKanji:!0})?X(at(t,Et,n).toLowerCase(),n):Y(t)||kt(t)?X(t.toLowerCase(),n):at(t,Et,n)}(e.value)},window.toKatakana=t=>{const e=document.getElementById(t);e.value=function(t="",e={}){const n=M(e);return n.passRomaji?G(t):rt(t)||Y(t)||kt(t)?G(X(t.toLowerCase(),n)):G(t)}(e.value)}})();