@using DanilvarKanji.Client.Services.Auth

@if (_isAuthorized)
{
    @ChildContent
}

@code {
    private bool _isAuthorized;

    [Inject] public IAuthService AuthService { get; set; }
    [Parameter, EditorRequired] public RenderFragment ChildContent { get; set; }
    
    
    protected override async Task OnInitializedAsync()
    {
        _isAuthorized = await AuthService.IsAuthorized();
        StateHasChanged();

    }

    protected override async Task OnParametersSetAsync()
    {
        _isAuthorized = await AuthService.IsAuthorized();
        
        StateHasChanged();
    }
    

}