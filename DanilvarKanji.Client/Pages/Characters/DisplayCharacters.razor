@using DanilvarKanji.Shared.DTO
@using DanilvarKanji.Shared.Models
@using DanilvarKanji.Client.Extensions

@foreach (CharacterDto character in CharacterItems)
{
    <div class="col-md-3 mb-2">
        <a href="/CharacterDetail/@character.Id">
            <div class="card bg-main">
                <div class="card-body">
                    <h1 class="card-title display-1 mb-3 txt-mid-pink text-center">
                        @character.Definition
                    </h1>
                    <p class="card-text display-5 txt-white">
                        @if (character.KanjiMeanings != null)
                        {
                            List<string> sortedKanjiMeanings = GetKanjiMeaningsOrderedByPrioiry(character);

                            foreach (string kanjiMeaning in sortedKanjiMeanings)
                            {
                                @kanjiMeaning
                            }
                        }
                    </p>
                    @if (character.Kunyomis is {Count: > 0})
                    {
                        <p class="card-text txt-white">
                            <DisplayKunyomi Character="character"/>
                        </p>
                    }
                    else
                    {
                        <p class="card-text txt-white">-----</p>
                    }
                    @if (character.Onyomis is {Count: > 0 })
                    {
                        <p class="card-text txt-white">

                            @foreach (Onyomi onyomi in character.Onyomis)
                            {
                                @onyomi.JapaneseWriting
                            }
                        </p>
                    }
                    else
                    {
                        <p class="card-text txt-white">-----</p>
                    }
                    <p class="card-text txt-gray">
                        @character.JlptLevel.GetDisplayName()
                    </p>
                </div>
            </div>
        </a>
    </div>
}